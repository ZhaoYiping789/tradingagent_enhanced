# TradingAgents Enhanced Edition

**Based on the original architecture from [TauricResearch/TradingAgents](https://github.com/TauricResearch/TradingAgents.git)**

## 👀 **Quick Results Preview**

**Want to see what this system can do?** Check out our latest analysis examples:

📊 **Latest Single Stock Analysis (2025-10-09)**:
- **AAPL Analysis**: [`results/AAPL/2025-10-09/`](results/AAPL/2025-10-09/) - Complete analysis with charts, Word docs, and CSV data
- **NVDA Analysis**: [`results/NVDA/2025-10-09/`](results/NVDA/2025-10-09/) - Comprehensive technical and fundamental analysis

📈 **Latest Portfolio Analysis**:
- **Multi-Stock Portfolio**: [`portfolio_results/2025-10-09/portfolio_analysis_2025-10-09.md`](portfolio_results/2025-10-09/portfolio_analysis_2025-10-09.md) - Advanced portfolio optimization and allocation recommendations

## 🏛️ AI-Powered Investment Assistant

TradingAgents Enhanced Edition is an advanced **AI investment assistant** designed to help investors make informed decisions through comprehensive market analysis. Our system is an evolution of the original TradingAgents architecture, featuring sophisticated quantitative analysis, multi-agent intelligence, and enterprise-grade reporting capabilities.

### 🎯 **What This Investment Assistant Provides**

Our AI-powered system generates **professional investment reports and strategic recommendations** that serve as powerful decision-support tools for:

- **📊 Individual Investors**: Get institutional-quality analysis typically available only to professional fund managers
- **💼 Investment Advisors**: Enhance client presentations with mathematically rigorous analysis and comprehensive reports  
- **🏛️ Investment Committees**: Structured reports suitable for formal investment decision processes
- **📚 Financial Education**: Learn how professional analysts evaluate investments through detailed, transparent methodology

### ⚠️ **Investment Decision Support**

The reports, charts, and recommendations generated by this system are designed to **assist and inform your investment decisions** - not replace your judgment. Our AI agents provide:

- **Comprehensive Market Analysis**: Technical indicators, fundamental metrics, sentiment analysis
- **Mathematical Optimization**: Kelly Criterion, VaR/CVaR risk assessments, portfolio allocation scenarios  
- **Professional Documentation**: Institutional-grade reports with detailed reasoning and methodology
- **Multiple Perspectives**: Bull/bear analysis, risk assessment, and scenario planning

**Important**: All analysis should be considered as educational and decision-support material. Always conduct your own research and consider your personal financial situation before making investment decisions.

## 🚀 Enhanced Features & Capabilities

Building upon the solid foundation of the original TradingAgents architecture, we've significantly expanded the system with:

### 📊 **Advanced Quantitative Analysis**
- **Multi-Scenario Portfolio Optimization**: Kelly Criterion, VaR/CVaR risk metrics, and 6 distinct optimization scenarios
- **Mathematical Modeling**: GARCH volatility forecasting, factor analysis, and statistical predictions
- **Risk Management**: Comprehensive risk assessment with multiple risk tolerance profiles (Conservative, Moderate, Aggressive)
- **Performance Metrics**: Sharpe ratio, Sortino ratio, maximum drawdown, and beta calculations

### 📈 **Comprehensive Reporting System**
- **Professional Reports**: Generate both Markdown (.md) and Word (.docx) documents with embedded charts
- **Multi-Panel Visualizations**: Technical analysis dashboards with 10+ indicators and chart patterns
- **Structured Data Export**: 6 different CSV files for each analysis (technical, fundamental, risk, optimization scenarios)
- **Institutional-Grade Documentation**: Reports suitable for investment committees and regulatory compliance

### 🎯 **Multi-Stock Portfolio Management**
- **Portfolio-Level Analysis**: Cross-stock correlation analysis and sector diversification
- **Automated Allocation**: AI-powered position sizing with mathematical backing
- **Comparative Analytics**: Side-by-side stock analysis with ranking systems
- **Aggregated Risk Assessment**: Portfolio-wide risk metrics and stress testing

### 🤖 **Enhanced AI Agent Architecture**
- **Specialized Analysts**: Market, Fundamental, News, Social Media, and Quantitative agents
- **Investment Committee Simulation**: Bull/Bear researchers with structured debate processes
- **Risk Committee**: Multiple risk assessment agents with different perspectives
- **Enterprise Strategy**: Institutional-level strategic analysis and decision-making

## 🔧 **Current Development Status**

⚠️ **This project is actively under development and continuous optimization**

### 🛠️ **In Progress**
- **WatsonX Integration**: Currently developing comprehensive IBM WatsonX.ai LLM support with langchain-ibm compatibility
- **Advanced Portfolio Reporting**: Upgrading portfolio analysis from Markdown to comprehensive multi-format reports (PDF, Excel, Interactive dashboards)
- **Real-time Data Integration**: Enhanced market data feeds and streaming analytics
- **Performance Optimization**: Improving processing speed and memory efficiency

### 📝 **Current Limitations**
- Portfolio analysis currently generates Markdown reports (upgrading to comprehensive multi-format output)
- Some advanced features require additional API keys and configuration
- WatsonX integration is in beta testing phase

### 🎯 **Upcoming Features**
- **Multi-LLM Support**: OpenAI GPT-4, IBM WatsonX, Claude, and local models
- **Interactive Dashboards**: Web-based portfolio monitoring and analysis
- **Backtesting Engine**: Historical performance validation and strategy optimization  
- **API Integration**: RESTful API for external system integration
- **Mobile Compatibility**: Responsive design for mobile and tablet access

## 🔬 **Technical Innovation**

This enhanced version represents a significant advancement in AI-powered financial analysis:
- **Mathematical Rigor**: Integration of modern portfolio theory with AI decision-making
- **Institutional Quality**: Reports and analysis suitable for professional investment management
- **Scalable Architecture**: Designed to handle multiple stocks and complex portfolio strategies
- **Extensible Framework**: Modular design allows easy addition of new analysis methods and data sources

## 🚀 Quick Start

### Prerequisites
- Python 3.8+
- **LLM API Keys** (choose one or both):
  - OpenAI API Key (GPT-4, currently primary support)
  - IBM WatsonX API Key (🚧 **In Development** - Enhanced support coming soon)
- UV package manager (recommended)

### Getting started
```bash

# Install dependencies
uv sync

# Set up environment variables
export OPENAI_API_KEY="your-api-key-here"
```

### Running the System

#### Option 1: Single Stock Analysis
```bash
# Run analysis for a single stock (default: NVDA)
uv run main_enterprise.py
```

#### Option 2: Portfolio Analysis (Multiple Stocks)
```bash
# Edit main_enterprise.py and set:
# portfolio_mode = True
# portfolio_tickers = ["NVDA", "AAPL", "MSFT"]  # Add your stocks

# Then run:
uv run main_enterprise.py
```

#### Option 3: Lightweight Single Stock Analysis
```bash
# Quick analysis without full enterprise features
uv run single_stock_analysis.py
```

#### Option 4: Standalone Portfolio Analysis
```bash
# Run portfolio analysis on existing single stock results
uv run run_portfolio_analysis.py
```

## 📁 Project Structure

```
TradingAgents-main/
├── main_enterprise.py              # Main entry point for enterprise analysis
├── single_stock_analysis.py        # Lightweight single stock analysis
├── run_portfolio_analysis.py       # Standalone portfolio analysis
├── pyproject.toml                  # Project dependencies and configuration
├── README.md                       # This file
│
├── tradingagents/                  # Core system package
│   ├── __init__.py
│   ├── default_config.py          # Default configuration settings
│   │
│   ├── agents/                    # AI agents and components
│   │   ├── __init__.py
│   │   ├── utils/                 # Shared utilities
│   │   │   ├── agent_states.py    # State management
│   │   │   ├── agent_utils.py     # Common utilities
│   │   │   └── memory.py          # Memory systems
│   │   │
│   │   ├── analysts/              # Analysis agents
│   │   │   ├── market_analyst.py           # Technical analysis
│   │   │   ├── fundamentals_analyst.py     # Financial analysis
│   │   │   ├── news_analyst.py             # News sentiment
│   │   │   ├── social_media_analyst.py     # Social sentiment
│   │   │   ├── comprehensive_quantitative_analyst.py  # ML forecasting
│   │   │   ├── multi_scenario_optimizer.py # Optimization scenarios
│   │   │   ├── portfolio_analyst.py        # Portfolio comparison
│   │   │   └── enterprise_strategy_analyst.py  # Strategic analysis
│   │   │
│   │   ├── generators/            # Report generators
│   │   │   ├── enhanced_quantitative_document_generator.py  # Main report generator
│   │   │   └── comprehensive_charts.py     # Chart generation
│   │   │
│   │   ├── traders/               # Trading decision agents
│   │   │   └── trader.py          # Main trading agent
│   │   │
│   │   ├── researchers/           # Research agents
│   │   │   ├── bull_researcher.py
│   │   │   └── bear_researcher.py
│   │   │
│   │   ├── managers/              # Management agents
│   │   │   ├── research_manager.py
│   │   │   └── risk_manager.py
│   │   │
│   │   └── risk_mgmt/             # Risk management agents
│   │       ├── aggresive_debator.py
│   │       ├── conservative_debator.py
│   │       └── neutral_debator.py
│   │
│   ├── graph/                     # LangGraph workflow system
│   │   ├── __init__.py
│   │   ├── trading_graph.py       # Main workflow graph
│   │   ├── setup.py               # Graph configuration
│   │   └── conditional_logic.py   # Workflow logic
│   │
│   ├── portfolio/                 # Portfolio optimization system
│   │   ├── stock_data_aggregator.py        # Data aggregation
│   │   ├── multi_scenario_portfolio_optimizer.py  # Optimization algorithms
│   │   ├── portfolio_report_generator.py   # Portfolio reports
│   │   ├── portfolio_trader.py             # LLM portfolio decisions
│   │   └── csv_data_exporter.py            # Data export
│   │
│   ├── optimization/              # Optimization algorithms
│   │   └── optimized_single_stock.py       # Single stock optimization
│   │
│   └── models/                    # ML models
│       └── time_series_models.py  # Time series forecasting
│
├── results/                       # Analysis results
│   └── {TICKER}/                  # Per-stock results
│       └── {DATE}/                # Per-date results
│           ├── {TICKER}_comprehensive_analysis_{DATE}.md
│           ├── {TICKER}_comprehensive_analysis_{DATE}.docx
│           ├── {TICKER}_comprehensive_analysis_{DATE}.png
│           └── csv_data/          # Exported CSV data
│               ├── summary_metrics.csv
│               ├── risk_metrics.csv
│               ├── technical_indicators.csv
│               ├── financial_metrics.csv
│               ├── optimization_scenarios.csv
│               └── sentiment_analysis.csv
│
├── portfolio_results/             # Portfolio analysis results
│   └── {DATE}/
│       └── portfolio_analysis_{DATE}.md
│
└── eval_results/                  # Evaluation and logs
    └── {TICKER}/
        └── TradingAgentsStrategy_logs/
```

## ⚙️ Detailed Configuration Guide

The system offers extensive customization options to tailor your analysis. Here's a comprehensive guide to all configurable parameters:

### 🎯 **Core Analysis Configuration (main_enterprise.py)**

#### **Analysis Mode & Targets**
```python
# Analysis scope
portfolio_mode = False  # True: Multi-stock portfolio analysis | False: Single stock
portfolio_tickers = ["NVDA", "AAPL", "MSFT", "GOOGL"]  # Stocks for portfolio mode
company_of_interest = "NVDA"  # Single stock (when portfolio_mode=False)
current_date = "2025-10-09"  # Analysis date (format: YYYY-MM-DD)
```

#### **AI Agent Selection**
Choose your analysis team from these specialized agents:
```python
selected_analysts = [
    "market",                    # 📈 Technical Analysis: RSI, MACD, Bollinger Bands, Support/Resistance
    "fundamentals",              # 💰 Financial Analysis: P/E, Revenue, Cash Flow, Balance Sheet
    "news",                      # 📰 News Sentiment: Headlines, Impact Assessment, Market Moving Events
    "social",                    # 🐦 Social Media: Reddit, Twitter sentiment, Retail investor mood
    "comprehensive_quantitative", # 🔬 Advanced ML: GARCH models, Factor analysis, Statistical forecasting
    "portfolio",                 # 📊 Portfolio Impact: Correlation analysis, Sector diversification
    "enterprise_strategy"        # 🏛️ Strategic Analysis: Long-term positioning, Institutional perspective
]

# Lightweight option (faster, fewer resources)
selected_analysts = ["market", "fundamentals"]  # Quick analysis setup
```

### 🤖 **LLM Model Configuration**

#### **Provider Selection**
```python
config = {
    "llm_provider": "openai",     # Options: "openai", "anthropic", "google", "ollama"
    "backend_url": "https://api.openai.com/v1",  # Custom endpoint URL
}
```

#### **Model Specifications**
```python
# Performance vs Cost tradeoff
config = {
    # High-performance setup (recommended for institutional use)
    "deep_think_llm": "gpt-4o",        # Complex analysis, strategic decisions
    "quick_think_llm": "gpt-4o-mini",  # Quick operations, data processing
    
    # Alternative model configurations:
    # "deep_think_llm": "gpt-4-turbo",     # OpenAI GPT-4 Turbo
    # "deep_think_llm": "claude-3-opus",   # Anthropic Claude (set provider to "anthropic")
    # "deep_think_llm": "gemini-pro",      # Google Gemini (set provider to "google")
    
    # Budget-friendly setup
    # "deep_think_llm": "gpt-3.5-turbo",
    # "quick_think_llm": "gpt-3.5-turbo",
}
```

### 🔧 **Advanced System Configuration**

#### **Analysis Depth & Quality**
```python
config = {
    # Enterprise features
    "enterprise_mode": True,                    # Enable institutional-grade features
    "lightweight_quantitative": False,         # False: Full optimization algorithms
    "use_comprehensive_quantitative": True,    # Enable advanced mathematical models
    "include_optimization_results": True,      # Kelly Criterion, VaR/CVaR calculations
    
    # Debate & discussion quality
    "max_debate_rounds": 2,          # 1-3: Bull/Bear analysis rounds (more = thorough)
    "max_risk_discuss_rounds": 2,    # 1-3: Risk assessment depth
    
    # Processing limits
    "max_recur_limit": 100,          # Maximum recursive analysis depth
}
```

#### **Data Sources & Tools**
```python
config = {
    "online_tools": True,            # True: Real-time data | False: Cached/sample data
    
    # Data directories (advanced users)
    "results_dir": "./results",      # Analysis output location
    "data_cache_dir": "./cache",     # Local data cache
}
```

### 🌐 **Multi-LLM Provider Setup**

#### **OpenAI Configuration**
```python
# Set environment variable:
export OPENAI_API_KEY="your-openai-api-key"

config = {
    "llm_provider": "openai",
    "backend_url": "https://api.openai.com/v1",
    "deep_think_llm": "gpt-4o",
    "quick_think_llm": "gpt-4o-mini"
}
```

#### **Anthropic Claude Configuration**
```python
# Set environment variable:
export ANTHROPIC_API_KEY="your-anthropic-api-key"

config = {
    "llm_provider": "anthropic", 
    "deep_think_llm": "claude-3-5-sonnet-20241022",
    "quick_think_llm": "claude-3-haiku-20240307"
}
```

#### **Google Gemini Configuration**
```python
# Set environment variable:
export GOOGLE_API_KEY="your-google-api-key"

config = {
    "llm_provider": "google",
    "deep_think_llm": "gemini-1.5-pro",
    "quick_think_llm": "gemini-1.5-flash"
}
```

#### **WatsonX Configuration (🚧 In Development)**
```python
# Set environment variables:
export WATSONX_API_KEY="your-watsonx-api-key"
export WATSONX_PROJECT_ID="your-watsonx-project-id"

config = {
    "llm_provider": "watsonx",
    "deep_think_llm": "meta-llama/llama-3-3-70b-instruct",
    "quick_think_llm": "meta-llama/llama-3-1-8b-instruct"
}
```

### 📊 **Pre-configured Analysis Scenarios**

#### **Scenario 1: Quick Individual Investor Setup**
```python
# Fast, cost-effective personal analysis
selected_analysts = ["market", "fundamentals"]
config = {
    "deep_think_llm": "gpt-4o-mini",
    "quick_think_llm": "gpt-4o-mini",
    "max_debate_rounds": 1,
    "lightweight_quantitative": True
}
```

#### **Scenario 2: Professional Advisor Setup**
```python
# Comprehensive client-ready reports
selected_analysts = ["market", "fundamentals", "news", "social", "comprehensive_quantitative"]
config = {
    "deep_think_llm": "gpt-4o", 
    "enterprise_mode": True,
    "max_debate_rounds": 2,
    "include_optimization_results": True
}
```

#### **Scenario 3: Institutional Investment Committee**
```python
# Full enterprise analysis with all features
selected_analysts = [
    "market", "fundamentals", "news", "social", 
    "comprehensive_quantitative", "portfolio", "enterprise_strategy"
]
config = {
    "deep_think_llm": "gpt-4o",
    "enterprise_mode": True,
    "max_debate_rounds": 3,
    "max_risk_discuss_rounds": 3,
    "use_comprehensive_quantitative": True
}
```

#### **Scenario 4: Research & Backtesting**
```python
# Historical analysis with detailed logging
portfolio_mode = True
portfolio_tickers = ["AAPL", "NVDA", "MSFT", "GOOGL", "TSLA"]
config = {
    "online_tools": False,  # Use historical data
    "max_debug_logs": True
}
```

### Environment Variables
```bash
# LLM Configuration (choose one)
export OPENAI_API_KEY="your-openai-api-key"

# OR - WatsonX Configuration (🚧 In Development)
export WATSONX_API_KEY="your-watsonx-api-key" 
export WATSONX_PROJECT_ID="your-watsonx-project-id"

# Optional Data Sources
export NEWS_API_KEY="your-news-api-key"
export SOCIAL_API_KEY="your-social-api-key"
export SIMFIN_API_KEY="your-simfin-api-key"  # For fundamental data
```

## 📊 Output Files

### Single Stock Analysis Output
- **Markdown Report**: `{TICKER}_comprehensive_analysis_{DATE}.md`
- **Word Document**: `{TICKER}_comprehensive_analysis_{DATE}.docx`
- **Charts**: `{TICKER}_comprehensive_analysis_{DATE}.png`
- **CSV Data**: 6 CSV files with structured data

### Portfolio Analysis Output
- **Portfolio Report**: `portfolio_analysis_{DATE}.md`
- **Individual Stock Data**: Aggregated from single stock analyses

## 🔧 Troubleshooting

### Common Issues

1. **API Key Error**
   ```bash
   # Make sure your OpenAI API key is set
   export OPENAI_API_KEY="your-key-here"
   ```

2. **Dependency Issues**
   ```bash
   # Reinstall dependencies
   uv sync --reinstall
   ```

3. **Portfolio Analysis Fails**
   ```bash
   # Make sure single stock analyses are completed first
   # Check that CSV files exist in results/{TICKER}/{DATE}/csv_data/
   ```

4. **Memory Issues**
   ```bash
   # Reduce the number of analysts or stocks being analyzed
   # Edit main_enterprise.py to use fewer analysts
   ```

### Log Files
- Check `enterprise_output.log` for detailed execution logs
- Check `eval_results/{TICKER}/TradingAgentsStrategy_logs/` for agent-specific logs

## 🎯 Usage Examples

### Example 1: Analyze NVDA
```bash
# Edit main_enterprise.py
company_of_interest = "NVDA"
portfolio_mode = False

# Run analysis
uv run main_enterprise.py
```

### Example 2: Portfolio Analysis of Tech Stocks
```bash
# Edit main_enterprise.py
portfolio_mode = True
portfolio_tickers = ["NVDA", "AAPL", "MSFT", "GOOGL"]

# Run analysis
uv run main_enterprise.py
```

### Example 3: Quick Single Stock Analysis
```bash
# No configuration needed
uv run single_stock_analysis.py
```

## 📈 Understanding the Results

### Single Stock Analysis
1. **Technical Analysis**: Market trends, indicators, signals
2. **Fundamental Analysis**: Financial health, growth metrics
3. **Sentiment Analysis**: News and social media sentiment
4. **Quantitative Analysis**: ML forecasts and optimization scenarios
5. **Final Recommendation**: BUY/SELL/HOLD with confidence level

### Portfolio Analysis
1. **Individual Stock Results**: Aggregated from single stock analyses
2. **Optimization Algorithms**: 5 different allocation strategies
3. **LLM Integration**: AI-powered final allocation decision
4. **Comparative Analysis**: Side-by-side stock comparison
5. **Risk Assessment**: Portfolio-level risk metrics

## 🆘 Support

For issues and questions:
1. Check the troubleshooting section above
2. Review log files for error details
3. Ensure all dependencies are properly installed
4. Verify API keys are correctly set

## 🛣️ Development Roadmap

### 🎯 **Phase 1: WatsonX Integration (Current Priority)**
- [ ] Complete IBM WatsonX.ai LLM integration with langchain-ibm
- [ ] Tool calling and function support for WatsonX models
- [ ] Performance optimization for enterprise-scale analysis
- [ ] Comprehensive testing and validation

### 🎯 **Phase 2: Enhanced Portfolio Management**
- [ ] Upgrade portfolio reports to interactive dashboards
- [ ] PDF and Excel export capabilities
- [ ] Real-time portfolio monitoring
- [ ] Advanced risk visualization

### 🎯 **Phase 3: Multi-LLM Ecosystem**
- [ ] Claude AI integration
- [ ] Local model support (Llama, Mistral)
- [ ] Model performance comparison
- [ ] Intelligent model selection based on analysis type

### 🎯 **Phase 4: Enterprise Features**
- [ ] RESTful API development
- [ ] Web interface and mobile support
- [ ] Backtesting and historical validation
- [ ] Regulatory compliance reporting

## 🤝 Contributing

We welcome contributions to the TradingAgents Enhanced Edition! This project is actively being developed with a focus on:

### 🔥 **High Priority Areas**
- **WatsonX Integration**: Help us complete the IBM WatsonX.ai integration
- **Portfolio Visualization**: Enhanced charting and dashboard development
- **Documentation**: Improve user guides and technical documentation
- **Testing**: Expand test coverage and edge case handling

### 💡 **How to Contribute**
1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Make your changes and test thoroughly
4. Commit your changes (`git commit -m 'Add amazing feature'`)
5. Push to the branch (`git push origin feature/amazing-feature`)
6. Open a Pull Request

### 🧪 **Development Focus**
Our current development priorities align with creating a robust, enterprise-grade trading analysis platform that supports multiple LLM providers while maintaining the highest standards of financial analysis accuracy and institutional reporting quality.

## 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🙏 Acknowledgments

- Based on the original [TauricResearch/TradingAgents](https://github.com/TauricResearch/TradingAgents.git) architecture
- IBM WatsonX.ai team for LLM integration support
- OpenAI for GPT-4 API access
- The open-source financial analysis community

---

**TradingAgents Enhanced Edition** - Next-generation AI-powered trading analysis with institutional-grade quantitative methods and multi-LLM support.

*🚧 Active Development: WatsonX Integration in Progress | Portfolio Enhancement Underway | Community Contributions Welcome*